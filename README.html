<html>
<head>
<title>Discrete Choice Experiments</title>
<style type="text/css">
  body {bgcolor:'lightyellow';}
  pre {font-size:100%; margin-left:2ex;}
  h1 { font-family:Arial,Helvetica,sans-serif; font-size:160%; font-weight:bold; }
  h2 { font-family:Arial,Helvetica,sans-serif; font-size:120%; font-weight:bold; }
  h3 { font-family:serif; font-size:100%; font-weight:bold; text-indent:1.2ex; }
  td { padding-left: 2ex; }
</style>
</head>
<body>
<a name="top" />
<h1>Discrete Choice Experiments</h1>

<p>Author: Mike Lake <br>
Version of this Doc: 05 May 2014
</p>

<pre>
<a href="#description"/>Description</a>
<a href="#release"/>New Version Release at Nectar</a>
<a href="#required"/>Software Required</a>
<a href="#setup"/>System Setup at Nectar</a>
<a href="#programs"/>Two Programs - choice.py and process_choices.py</a>
<a href="#running"/>Running the Application</a>
<a href="#tests"/>Running Regression Tests</a>
<a href="#wsgi"/>Testing a Minimal WSGI App</a>
<a href="#windows"/>Running under Microsoft Windows </a>
<a href="#problems"/>Problems Encountered</a> 
<a href="#todo"/>To Do</a>                              &lt;-- Don't forget.
<a href="#refs"/>Programming References</a>
</pre>

<a name="description"/><h2>Description</h2>

<p>This describes the python scripts that run the web based 
&quot;Discrete Choice Experiments&quot;. 
This was written for for Deborah Street and Leonie Burgess. 
Mike Lake wrote the choice.py and Emily Bird (from Maths) wrote the main functions in 
process_choices.py.  
</p>

<p><a href="#top">Top</a></p>

<a name="release"/><h2>New Version Release at Nectar</h2>

<p>This is how to do a new release at the Nectar hosted site.
</p>

<pre>
TODO 
Mikes Nectar was : ec2-user@115.146.85.135
New Production:    ec2-user@130.56.248.113
</pre>

<pre>
1. Update version numbers for:
   choice.py               version = '2013.10.23' 
   choice_common.py
   process_choices.py

   The version number for all programs should all be set to the same date.

2. Turn off TEST in choice.py

   At the top of the program set 
   "TEST = False"

3. Run the script ./release_to_nectar.sh 
   This will just make a tarball of the required files and scp the tarball to Nectar's 
   /home/ec2-user/public_html/ 
   It will then echo to the screen the command for logging into Nectar 
   $ ./release_to_nectar.sh 

4. Login to Nectar  (this is done automatically by the above script)
   $ ssh -i ~/.ssh/keys/mikes_nectar ec2-user@130.56.248.113
  
   Your home directory will be /home/ec2-user/
   The tarball will be in public_html/
  
   $ cd public_html 
   $ tar xvf choice_release_2014.01.07.tar  &lt;-- This will create directory choice_2014.01.07/
   $ rm choice_release_2014.01.07.tar

   $ sudo systemctl stop nginx.service

   $ rm choice                                &lt;-- this is a symlink to a release
   $ ln -s choice_release_2014.01.07  choice  &lt;-- create new symlink

   $ sudo systemctl start nginx.service
   $ sudo systemctl restart uwsgi.service
 
5. Check <a href="http://130.56.248.113">http://130.56.248.113/choice</a> 
   It should show the correct version number at the bottom left of the page. 
</pre>

<a name="required"/><h2>Software Required for Choice Application</h2>

<p>This is installed onto a "Fedora release 19".
The following software is required:</p>

<p>Python 2.7.5 will already be installed. 
</p>

<p><tt>$ sudo yum update</tt> then install the following Fedora packages: </p>

<pre>
Fedora Package          Provides
--------------          --------
python-bottle           provides micro web framework
nginx                   provides web server
uwsgi-plugin-python     only provides /usr/lib64/uwsgi/python_plugin.so
                        pulls in uwsgi and uwsgi-plugin-common as a dependency
uwsgi                   only provides /usr/sbin/uwsgi
numpy                   provides numerical array maths
</pre>

<p><b>sympy</b>: The other thing we need is a python package called sympy from http://sympy.org. 
This provides symbolic maths for python. From that site download and install sympy-0.7.2.tar.gz <br>
Note: Do not install sympy from the yum repos. That will install version 0.7.3
which has a problem. Download 0.7.2 and install using setup.py as below.
</p>

<pre>
sympy-sympy-0.7.2$ python setup.py build
sympy-sympy-0.7.2$ sudo python setup.py install
</pre>

<p><a href="#top">Top</a></p>

<a name="setup"/><h2>System Setup at Nectar</h2>

<h3>Nginx Setup at Nectar</h3>

<p>Mike made some global changes to nginx configuration files. 
The changes are documented in these files. Search for MRL strings for changes. 
</p>

<p>
<tt>/etc/nginx/nginx.conf</tt> &lt;&lt; Changed document root, changed log format to a simpler string. <br>
<tt>/etc/nginx/conf.d/default.conf</tt> &lt;&lt; contains hello and choice apps. <br>
<tt>/usr/share/nginx/html/index.html</tt> Changed to just say "Nothing here." <br>
<tt>/home/ec2-user/public_html</tt> &lt;&lt; Created public_html directory. <br>
Changed <tt>drwx------ /home/ec2-user</tt> to <tt>drwxr-xr-x</tt> via <tt>ugo+rx</tt> so nginx can see the public_html dir. <br>

etc/$ sudo /usr/sbin/nginx -t
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
etc/$ 


chown ec2-user:nginx *.py
chmod ug+x *.py
</p>

TODO deployment: nginx+uwsgi
TODO nohup python app.py &amp; - run in background with ability to logout from console.

<h3>uWSGI Setup at Nectar</h3> TODO THIS HAS NOW CHANGED !!!

<p>Package uwsgi will contain /usr/sbin/uwsgi and some doc files. <br>
<tt>$ rpmquery -ql uwsgi | grep -v doc</tt>
</p>

<pre>
/etc/uwsgi.d     &lt;-- was empty, added choice.ini &amp; hello.ini
/etc/uwsgi.ini
/run/uwsgi
/usr/lib/systemd/system/uwsgi.service
/usr/sbin/uwsgi
</pre>

This is what uwsgi.ini should contain:
 
<pre>
[uwsgi]
uid = uwsgi  &lt;-- drops privs from root to these after starting. TODO uwsgi or nginx
gid = uwsgi
pidfile = /run/uwsgi/uwsgi.pid
emperor = /etc/uwsgi.d
stats = /run/uwsgi/stats.sock
emperor-tyrant = true
cap = setgid,setuid
</pre>

Check uwsgi is running:

<pre>
$ ps ax | grep uwsgi
11067 ?        Ss     0:04 /usr/sbin/uwsgi --ini /etc/uwsgi.ini
11069 ?        S      0:06 /usr/sbin/uwsgi --ini /etc/uwsgi.ini
</pre>

hello/$ sudo netstat -tlpn | grep :9000

<pre> THIS IS WHAT WE SHOULD SEE
etc/$ sudo netstat -tlpn | grep uwsgi
tcp   0    0 127.0.0.1:9000   0.0.0.0:*   LISTEN   8509/uwsgi          
tcp   0    0 127.0.0.1:9001   0.0.0.0:*   LISTEN   8507/uwsgi          
etc/$ 

</pre>


Error:
<pre>
2014/04/29 13:10:04 [error] 10640#0: *9 connect() failed (111: Connection refused) while connecting to upstream, client: 113.197.9.114, server: , request: "GET /hello/ HTTP/1.1", upstream: "uwsgi://127.0.0.1:9090", host: "130.56.248.113"
</pre>

<p>This error Means nginx is trying to pass along the app to port 9090 but nothing seems to be listening there. 
But we do seem to have uwsgi listening OK - see below: <br>
<tt>10848 ?        Ss     0:00 /usr/sbin/uwsgi --ini /etc/uwsgi.ini </tt><br>
<tt>10850 ?        S      0:00 /usr/sbin/uwsgi --ini /etc/uwsgi.ini </tt>
</p>

<pre>
----------------------------------------------------
~/$ sudo /usr/sbin/uwsgi --ini /etc/uwsgi.ini 
[uWSGI] getting INI configuration from /etc/uwsgi.ini
setting capability setgid [6]
setting capability setuid [7]
*** Starting uWSGI 1.9.19 (64bit) on [Thu May  1 14:19:04 2014] ***
compiled with version: 4.8.2 20131017 (Red Hat 4.8.2-1) on 12 November 2013 18:02:19
os: Linux-3.13.9-100.fc19.x86_64 #1 SMP Fri Apr 4 00:51:59 UTC 2014
nodename: uts-choice.novalocal
machine: x86_64
clock source: unix
pcre jit disabled
detected number of CPU cores: 1
current working directory: /home/ec2-user
writing pidfile to /run/uwsgi/uwsgi.pid
detected binary path: /usr/sbin/uwsgi
setgid() to 996
setuid() to 996
*** WARNING: you are running uWSGI without its master process manager ***
your processes number limit is 1024
your memory page size is 4096 bytes
detected max file descriptor number: 1024
*** starting uWSGI Emperor ***
[emperor-tyrant] invalid permissions for vassal choice.ini
[emperor-tyrant] invalid permissions for vassal hello.ini
[emperor-tyrant] invalid permissions for vassal choice.ini
[emperor-tyrant] invalid permissions for vassal hello.ini
^C[emperor] *** RAGNAROK EVOKED ***
~/$ 
------------------------------------------------------------------
</pre>



<h3>systemd Setup at Nectar</h3>

<p>At Nectar we are running a systemd based init system which replaces the
older SysV init system. See <tt>/etc/init.d/README</tt>. 
Files are in: <tt>/etc/systemd/system</tt> and some of these are symlinks to files in 
<tt>/usr/lib/systemd/system</tt> 
</p>

<p>Basic usage: </p>

<pre>
systemctl start nginx.service
systemctl stop nginx.service
systemctl status nginx.service    
systemctl list-unit-files
</pre>

<p>(If you use the older SysV system command: <tt>$ service uwsgi status</tt> it will 
redirect it with a message 
&quot;<tt>Redirecting to /bin/systemctl status uwsgi.service</tt>&quot;)
</p>


<p>The Choice application page should now be visible at: 
<a href="http://130.56.248.113/choice/">http://130.56.248.113/choice/</a>
</p>

 
<p><a href="#top">Top</a></p>

<a name="programs"/><h2>Two Programs - choice.py and process_choices.py</h2>

<p>This is the web form submission process.</p>

<pre>
Start here

+--- Users Web Browser ---+
|                         |
|  Javascript validation  | <-- Note 1 
|  for basic checking     |
+-------------------------+
              |
User submits form  
              |
+--- choice.py: web application ---+
|                                  | 
| gets inputs from web browser     |      +--- process_choices.py ----+ 
| inputs_validation()              |      |                           |
|                                  |      | get_expected_io()         |
| write_input_files() ------------------> | read_input_files()        |  
|                                  |      |   ... processing ...      |
|                                  |      |   ... processing ...      |
| read_output_files() <------------------ | write_output_files()      |
|                                  |      +---------------------------+
| creates HTML pages with data     | 
+----------------------------------+
              |
Results sent back to user
              |
+--- Users Web Browser ---+
|                         |
|         results         |
+-------------------------+
</pre>

<p>This is roughly what each program does.</p>

<table>
<tr><td><p><b>choice.py:</b><br>
1. reads form input values (as dict)<br>  
2. writes input values to files in a temp dir<br>
3. runs process_choices.py<br>
4. reads output values from these files<br>
5. writes values to web page
</p></td>
<td><p>
<b>process_choices.py:</b><br>
1. reads input values from files in temp dir<br>
2. processes them<br>
3. writes output values to files in temp dir<br>
&nbsp;<br>
&nbsp;<br>
</p></td>
</tr>
</table>


<p>
Note 1: To turn off the javascript validation edit <tt>views/head.tpl</tt> and rename the 
<tt>src="/static/validate.js"</tt> to something &quot;wrong&quot; so it won't load.
</p>

<p><a href="#top">Top</a></p>

<a name="running"/><h2>Running the Application</h2>

<h3>Running under Bottle's inbuilt web server</h3>

<p><i>This is just for testing - not production!</i></p>

<p>The script choice.py needs to have this at the end:</p>
<pre>
  run(host='localhost', port=8080, reloader=True)
</pre>

<p>Start the script:</p>
<pre>
  choice/$ ./choice.py 
  Bottle server starting up (using WSGIRefServer())...
  Listening on http://localhost:8080/
  Hit Ctrl-C to quit.
</pre>

Go to: <a href="http://localhost/choice">http://localhost/choice</a>

<p>Note: The port=8080 is superfluous as the default port is actually 8080. 
If you try to run  on port 80 you will get a 
"socket.error: [Errno 13] Permission denied error" as you don't have permission 
to bind that that port - even if apache or nginx are not running. 
</p>

<h3>Running under Nginx and Fast CGI</h3>

<p><i>This is how to run for production.</i></p>

<p>The script choice.py needs to have this:</p>
<pre>
  run(server=FlupFCGIServer, port=9000, host='localhost', reloader=True)
</pre>

<p>Start the script:</p>
<pre>
  choice/$ ./choice.py 
  Bottle server starting up (using FlupFCGIServer())...
  Listening on http://127.0.0.1:9000/
  Hit Ctrl-C to quit.
</pre>

or

<pre>
$ nohup python ./choice.py &   &lt;-- Runs COMMAND, ignoring hangup signals.
  nohup: ignoring input and appending output to "nohup.out"
</pre>

<p>Go to: <a href="http://localhost/choice/">http://localhost/choice/</a>
</p>

<pre>
[ec2-user@choice2 ~]$ ps ax | grep choice
     2:11 avahi-daemon: running [choice2.local]
     1:31 python ./choice.py
     3:14 /usr/bin/python ./choice.py
[ec2-user@choice2 ~]$ 
</pre>

<p>If you get this web page below then you forgot to start ./choice.py</p>
<pre>
  Possibly Busy
  The page you are looking for is temporarily unavailable. Please try again later. 
</pre>

Note: For Mikes laptop only make sure nginx is running and not apache: 
<pre>
  $ sudo service httpd stop
  Redirecting to /bin/systemctl stop  httpd.service
  choice/$ sudo service nginx start
  Redirecting to /bin/systemctl start  nginx.service
  $ 
</pre>

<p><a href="#top">Top</a></p>

<a name="tests"/><h2>Running Regression Tests</h2>

<p>This should show no output. </p>

<pre>
$ ./regression_test_all.sh
$
</pre>

<p><a href="#top">Top</a></p>

<a name="wsgi"/><h2>Testing a Minimal WSGI App</h2>

<p>With Python, you use the WSGI (Web Server Gateway Interface) on top of an fcgi
or wsgi server which talks to the web server (the fcgi client). <br>
<tt>The web client <-> the web server <-> the socket <-> uwsgi <-> Bottle Application</tt>
</p>

<p>Following:  
<a href="http://perlmaven.com/deploying-pyton-with-uwsgi-on-ubuntu-13-10">
Deploying Python with uWSGI and Nginx on Ubuntu 13.10</a>
</p>

<p style="margin-left:1em;">This site contains a note about including --python. 
Without including the python plugin, if I run: <br>
<tt>$ uwsgi --http-socket :9090 --wsgi-file app.py</tt> &nbsp; 
I'd get the following error: <br>
<tt>uwsgi: unrecognized option '--wsgi-file'</tt> <br>
<tt>getopt_long() error</tt>
</p>

<p>First test hello.py -a minimal WSGI application: <br>
<tt>$ uwsgi --http-socket :9090 --plugin python --wsgi-file hello.py</tt> <br>
Goto: <tt>http://localhost:9090/</tt> it works OK. 
</p>

Now test choice application.
Instead of the command line, we will now use a configuration file. <br>
Created <tt>choice-uwsgi.ini</tt>

<pre>
[uwsgi]
http-socket = :9090  <-- Note: this will be just socket=:9090 in production.
plugin    = python
wsgi-file = /home/mlake/public_html/choice/choice.py 
process   = 3
</pre>

<p style="margin-left:1em;">Note: when we want to use a production version we
need to replace: <br>
<tt>http-socket=:9090</tt> with <tt>socket=:9090</tt> </p>

<p>Now we can launch the uWSGI server using the following command:
</p>

<pre>
$ uwsgi --ini choice-uwsgi.ini
Goto: http://localhost:9090/
</pre>

The choice app displays OK. [Shut down the uWSGI server by pressing Ctrl-C.] 

<p><a href="#top">Top</a></p>

<a name="windows"/><h2>Running 'process_choices.py' under Microsoft Windows </h2>

<p>The web server and its app (i.e. <tt>choice.py</tt>) can't be run under Windows but the 
program <tt>process_choices.py</tt> can be run under Windows. This means that Emily Bird 
can run and debug her code on Windows. For details on this see below.</p>

<p>1. Copy the following files over to the Windows box: 
<tt>process_choices.py</tt> and <tt>choice_common.py</tt><br>
2. Copy the directory <tt>test</tt>  with its test files to the Windows box.<br>
</p>

<p>Then run it like this: </p>

<pre>
C:\choice_emily&gt; C:\Python27\python.exe process_choices.py test\check_main_1 check main
C:\choice_emily&gt; 
</pre>

<p>Note: Regression tests also can't be run under Windows.</p>

<p><a href="#top">Top</a></p>

<a name="problems"/><h2>Problems Encountered</h2> 

<h3>Need uwsgi-plugin-python</h3>

<p>The problem was that the uwsgi process could not be started. </p>

<pre>
[ec2-user@choice2 hello]$ uwsgi --http-socket :9090 --plugin python --wsgi-file hello.py
open("/usr/lib64/uwsgi/python_plugin.so"): No such file or directory [core/utils.c line 3639]
!!! UNABLE to load uWSGI plugin: /usr/lib64/uwsgi/python_plugin.so: cannot open shared object file: No such file or directory !!!
uwsgi: unrecognized option '--wsgi-file'
getopt_long() error
[ec2-user@choice2 hello]$ 
</pre>

<p>Installed uwsgi-plugin-python </p>

<pre>
[ec2-user@choice2 hello]$ uwsgi --http-socket :9090 --plugin python --wsgi-file hello.py
*** Starting uWSGI 1.9.19 (64bit) on [Tue Jan  7 12:21:26 2014] ***
compiled with version: 4.8.2 20131017 (Red Hat 4.8.2-1) on 12 November 2013 18:02:19
os: Linux-3.10.10-200.fc19.x86_64 #1 SMP Thu Aug 29 19:05:45 UTC 2013

Now lynx http://localhost:9090 shows OK
</pre>

<h3>nginx/python Run Problems</h3> 

<p>This is what you should have:</p>

<pre>
[ec2-user@choice2 public_html]$ ps ax | grep choice
 7235 pts/0    S      0:00 python ./choice.py
 7236 pts/0    Sl     0:00 /usr/bin/python ./choice.py
[ec2-user@choice2 public_html]$ 
</pre>

<p>If you get this error on Nectar: <tt>Error: 502 Bad Gateway</tt> then 
chances are that nginx is runing but the <tt>choice.py</tt> app is not.
Try running it manually from the command line to see any errors. 
Don't background it so you can see what the problem is.
</p>
 
<pre>
$ python ./choice.py   &lt;-- no &amp; to see what the problem is.
</pre>

<h3>Sympy Error</h3>

<p>Note: Get the sympy version with "import sympy; sympy.__version__"</p>
<pre>            Python    Sympy    Numpy
Laptop      2.7.3     0.7.1    1.6.2    
Windows     2.7.3     0.7.2    1.7.1
Nectar      2.7.5     0.7.3    1.7.1 &lt;-- has a sympy problem 
Nectar      2.7.5     0.7.2    1.7.1 &lt;-- works OK
LiveShell   2.7.5     0.7.3    1.6.1
</pre>

<p>On laptop running sympy 0.7.1</p>
<pre>
mlake$ python
Python 2.7.3 (default, Jul 24 2012, 10:05:38) 
[GCC 4.7.0 20120507 (Red Hat 4.7.0-5)] on linux2
>>> import sympy
>>> m=[1,2]
>>> sympy.Matrix(m)
[1]
[2]
>>> 
</pre>

<p>On Nectar server running sympy 0.7.3</p>
<pre>
[ec2-user@choice2$ python
Python 2.7.5 (default, Aug 22 2013, 09:31:58) 
[GCC 4.8.1 20130603 (Red Hat 4.8.1-1)] on linux2
>>> import sympy
>>> m=[1,2]
>>> sympy.Matrix(m)
Matrix([
[1],
[2]])
>>> 
</pre>

<p>Solved: Removed the yum package sympy (0.7.3) and installed sympy 0.7.2 from 
the tarball source package sympy-sympy-0.7.2.tar. The problem 
has now gone. 
</p>

<p><a href="#top">Top</a></p>

<a name="todo"/><h2>ToDo</h2> 
<pre>
---------------------------------------------
Implementing a Timeout

http://stackoverflow.com/questions/1191374/subprocess-with-timeout
http://stackoverflow.com/questions/3733270/python-subprocess-timeout
http://howto.pui.ch/post/37471155682/set-timeout-for-a-shell-command-in-python
See 
  p = process.ProcessOpen("notepad.exe")
  p.wait(timeout=5)

--------------------

subprocess.call(): 

See pydoc subprocess for "call" details. 
This returns 0 if all is OK.
To capture standard error in the result use stderr=STDOUT.
The exception object will have one extra attribute called
'child_traceback', which is a string containing traceback information
from the childs point of view.
See also "check_call"

(['./process_choices.py', 'construct', 'main'], stderr=subprocess.STDOUT)
return_value = subprocess.call(['./process_choices.py', tempdir, 'construct', 'main'] )

-----------------------------
</pre>

<p><a href="#top">Top</a></p>

<a name="refs"/><h2>Programming References, uWSGI and nginx</h2>

<pre>
<a href="http://monicalent.com/blog/2013/12/06/set-up-nginx-and-uwsgi/">Monica Lent: set-up-nginx-and-uwsgi</a> Good definitions here 
<a href="http://michael.lustfield.net/nginx/bottle-uwsgi-nginx-quickstart">Bottle + UWSGI + Nginx Quickstart</a>
<a href="http://community.webfaction.com/questions/3998/how-to-setup-a-python-bottle-application">How to serve WSGI using Apache</a>
<a href="http://uwsgi-docs.readthedocs.org/en/latest/SystemD.html">Adding the Emperor to systemd</a>
<a href="http://jawher.me/2012/03/16/multiple-python-apps-with-nginx-uwsgi-emperor-upstart/">Running multiple python apps with nginx and uwsgi in emperor mode - March 2012</a>
<a href="http://www.oelerich.org/using-uwsgi-emperor-systemd/">Using the uWSGI Emperor with systemd</a>
<a href="http://note.kjuly.com/note/nginx-uwsgi-bottle/">NginX + uWSGI + Bottle</a>
<a href="http://linuxgazette.net/115/orr.html">WSGI Explorations in Python</a> Good overview
<a href="http://wiki.nginx.org/PythonFlup">PythonFlup</a>
<a href="http://wiki.nginx.org/HttpUwsgiModule">HttpUwsgiModule</a>
<a href="http://fclef.wordpress.com/2013/01/12/bottle-virtualenv-uwsgi-nginx-installation-on-ubuntu-12-04-1-lts">bottle-virtualenv-uwsgi-nginx-installation-on-ubuntu-12-04-1-lts/</a>
<a href="http://stackoverflow.com/questions/361855/how-to-gracefully-restart-django-running-fcgi-behind-nginx">how-to-gracefully-restart-django-running-fcgi-behind-nginx</a>
<a href="http://helpful.knobs-dials.com/index.php/Mod_wsgi_notes">Mod_wsgi_notes</a>
<a href="http://michael.lustfield.net/nginx/bottle-uwsgi-nginx-quickstart">bottle-uwsgi-nginx-quickstart</a>
<a href="http://articles.slicehost.com/2010/8/27/customizing-nginx-web-logs">customizing-nginx-web-logs</a>
<a href="http://stackoverflow.com/questions/7048057/running-python-through-fastcgi-for-nginx">running-python-through-fastcgi-for-nginx</a>
<a href="http://scardig.com/articoli/2010/02/03/Webpy-deployment-through-Nginx-Fastcgi-Spawn-fcgi-and-Flup.html">Webpy-deployment-through-Nginx-Fastcgi-Spawn-fcgi-and-Flup</a>
<a href="http://blog.richard.do/index.php/2013/04/setting-up-nginx-django-uwsgi-a-tutorial-that-actually-works/">setting-up-nginx-django-uwsgi-a-tutorial-that-actually-works</a>
<a href="http://daeyunshin.com/2013/01/06/nginx-uwsgi-django-flask-deployment.html">nginx-uwsgi-django-flask-deployment</a>
</pre>

<p><a href="#top">Top</a></p>

<p>&nbsp; <!-- creates blank line at end --> </p>

</body>
</html>

